{"remainingRequest":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/thread-loader/dist/cjs.js!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/babel-loader/lib/index.js!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/eslint-loader/index.js??ref--13-0!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/store/mutations.js","dependencies":[{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/store/mutations.js","mtime":1559693271215},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\nimport _defineProperty from \"/Users/siqi/Desktop/\\u5317\\u4EAC\\u7F51\\u7EDC\\u804C\\u4E1A\\u5B66\\u9662\\u8BFE\\u4EF6/vue/movie/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/web.dom.iterable\";\n\nvar _MOVIE_LIST$CITY_LIST;\n\nimport { MOVIE_LIST, CITY_LIST, CHANGE_CINEMANAME, GOODS_LIST, INCREMENT, DECREMENT, CLEARCART, SHOWCART } from \"./mutation-type\";\nimport { Indicator } from 'mint-ui'; //mutations用于接收指令 操作state中的数据\n\nexport default (_MOVIE_LIST$CITY_LIST = {}, _defineProperty(_MOVIE_LIST$CITY_LIST, MOVIE_LIST, function (state, data) {\n  state.movies = data;\n  Indicator.close();\n}), _defineProperty(_MOVIE_LIST$CITY_LIST, CITY_LIST, function (state, data) {\n  var result = handleCity(data);\n  state.city_list = result;\n  Indicator.close();\n}), _defineProperty(_MOVIE_LIST$CITY_LIST, CHANGE_CINEMANAME, function (state, data) {\n  state.cinemaName = data;\n}), _defineProperty(_MOVIE_LIST$CITY_LIST, GOODS_LIST, function (state, data) {\n  state.goods_list = data;\n  Indicator.close();\n}), _defineProperty(_MOVIE_LIST$CITY_LIST, INCREMENT, function (state, id) {\n  goods_increment(state, id);\n}), _defineProperty(_MOVIE_LIST$CITY_LIST, DECREMENT, function (state, id) {\n  goods_decrement(state, id);\n}), _defineProperty(_MOVIE_LIST$CITY_LIST, CLEARCART, function (state) {\n  state.shop_cart_list.forEach(function (item, index) {\n    item.count = 0;\n  });\n  state.shop_cart_list = [];\n\n  if (state.shop_cart_list.length == 0) {\n    state.showShopCart = false;\n  }\n}), _defineProperty(_MOVIE_LIST$CITY_LIST, SHOWCART, function (state) {\n  if (state.shop_cart_list.length > 0) {\n    state.showShopCart = !state.showShopCart;\n  }\n}), _MOVIE_LIST$CITY_LIST); //处理获取来的城市数据\n\nfunction handleCity(data) {\n  var result = {};\n  var city_pre = [];\n  var city_pre_list = []; //将城市的首字母提出来,所有城市名称提出来。\n\n  for (var i = 0; i < data.length; i++) {\n    city_pre.push(data[i]['city_pre'].toUpperCase()); //city_pre_list.push(data[i]['city_name']);\n  } //数组去重并排序\n\n\n  city_pre = uniq(city_pre).sort();\n\n  city_pre_list = function () {\n    var json = {};\n    city_pre.forEach(function (item, index) {\n      json[item] = [];\n      data.forEach(function (item_j) {\n        if (item_j.city_pre.toUpperCase() == item) {\n          json[item].push(item_j['city_name']);\n        }\n      });\n    });\n    return json;\n  }();\n\n  result['first'] = city_pre;\n  result['list'] = city_pre_list;\n  return result;\n} //去重\n\n\nfunction uniq(array) {\n  var temp = []; //一个新的临时数组\n\n  for (var i = 0; i < array.length; i++) {\n    if (temp.indexOf(array[i]) == -1) {\n      temp.push(array[i]);\n    }\n  }\n\n  return temp;\n} //处理用户加入购物车后更改goods_list的数据的count属性值\n\n\nfunction goods_increment(state, id) {\n  var flag = true;\n  state.goods_list.forEach(function (item, index) {\n    item.data.forEach(function (item_n) {\n      if (item_n.id == id) {\n        item_n.count += 1;\n        state.shop_cart_list.forEach(function (item_cart, index) {\n          if (item_cart.id == id) {\n            flag = false;\n          }\n        });\n\n        if (flag) {\n          state.shop_cart_list.push(item_n);\n        }\n      }\n    });\n  });\n} //处理用户点击减少卖品个数\n\n\nfunction goods_decrement(state, id) {\n  state.shop_cart_list.forEach(function (item, index) {\n    if (item.id == id && item.count > 0) {\n      item.count -= 1;\n    }\n\n    if (item.count == 0) {\n      state.shop_cart_list.splice(index, 1);\n    }\n  });\n\n  if (state.shop_cart_list.length == 0) {\n    state.showShopCart = false;\n  }\n}",null]}