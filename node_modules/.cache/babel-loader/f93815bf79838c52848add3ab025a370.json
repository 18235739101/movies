{"remainingRequest":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/babel-loader/lib/index.js!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/components/goods/shop_cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/components/goods/shop_cart.vue","mtime":1559653893286},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport InAndDe from \"./InAndDe.vue\";\nexport default {\n  props: {\n    shop_cart_list: {\n      type: Array\n    },\n    show_cart: {\n      type: Boolean\n    },\n    winH: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {};\n  },\n  methods: {\n    //清空购物车\n    clear_cart: function clear_cart() {\n      this.$store.dispatch('clearCart');\n    },\n    show_shopCart: function show_shopCart() {\n      this.$store.dispatch('show_cart');\n    }\n  },\n  components: {\n    InAndDe: InAndDe\n  },\n  computed: {\n    //计算购物车商品总价\n    total_price: function total_price() {\n      var sum = 0;\n      this.shop_cart_list.forEach(function (item, index) {\n        sum += item.count * item.price;\n      });\n      return sum;\n    },\n    //计算购物车内容的总长度\n    goods_count: function goods_count() {\n      return this.shop_cart_list.length;\n    },\n    //计算遮罩mask的高度和bottom值\n    maskHB: function maskHB() {\n      var num = this.shop_cart_list.length > 3 ? 3 : this.shop_cart_list.length;\n      var height = this.winH - 134 - num * 40 - 40 + 'px';\n      var bottom = num * 40 + 40 + 'px';\n      return {\n        h: height,\n        b: bottom\n      };\n    }\n  }\n};",{"version":3,"sources":["shop_cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,OAAA,OAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,cAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KADA;AAIA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA,KAJA;AAOA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AAPA,GADA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA,EAAA;AAGA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,UAFA,wBAEA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,WAAA;AACA,KAJA;AAKA,IAAA,aALA,2BAKA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,WAAA;AACA;AAPA,GAjBA;AA0BA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GA1BA;AA6BA,EAAA,QAAA,EAAA;AACA;AACA,IAAA,WAFA,yBAEA;AACA,UAAA,GAAA,GAAA,CAAA;AACA,WAAA,cAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,QAAA,GAAA,IAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,OAFA;AAGA,aAAA,GAAA;AACA,KARA;AASA;AACA,IAAA,WAVA,yBAUA;AACA,aAAA,KAAA,cAAA,CAAA,MAAA;AACA,KAZA;AAaA;AACA,IAAA,MAdA,oBAcA;AACA,UAAA,GAAA,GAAA,KAAA,cAAA,CAAA,MAAA,GAAA,CAAA,GAAA,CAAA,GAAA,KAAA,cAAA,CAAA,MAAA;AACA,UAAA,MAAA,GAAA,KAAA,IAAA,GAAA,GAAA,GAAA,GAAA,GAAA,EAAA,GAAA,EAAA,GAAA,IAAA;AACA,UAAA,MAAA,GAAA,GAAA,GAAA,EAAA,GAAA,EAAA,GAAA,IAAA;AACA,aAAA;AACA,QAAA,CAAA,EAAA,MADA;AAEA,QAAA,CAAA,EAAA;AAFA,OAAA;AAIA;AAtBA;AA7BA,CAAA","sourcesContent":["<template>\n    <div id='shop_cart'>\n        <div class=\"shopCart\">\n            <div class=\"cart\" @click='show_shopCart'>\n                <i class='iconfont'>&#xe607;</i>\n                <b v-show=\"goods_count>0\">{{goods_count}}</b>\n            </div>\n            <div class=\"price\">¥{{total_price}}</div>\n        </div>\n        <div class=\"calculate\">\n            <button class='calculate_btn'>结算</button>\n        </div>\n        <div class=\"shopCart_list\" v-show='show_cart'>\n            <div class=\"mask\" :style='{height:maskHB.h,bottom:maskHB.b}'></div>\n            <div class=\"shopCart_list_tit\">\n                <div class=\"maipin\">已选卖品</div>\n                <div class='clearShopCart' @click='clear_cart'>清空购物车</div>\n            </div>\n            <div style='max-height:120px;overflow:auto;'>\n                <div class=\"ShopCart_list_con\" v-for=\"(item,index) in shop_cart_list\">\n                    <div class=\"goods_name\">\n                        {{item.title}}\n                    </div>\n                    <div class='goods_price'>¥{{item.count*item.price}}</div>\n                    <div class=\"add_cart\">\n                    <InAndDe :shop_cart_list='shop_cart_list' :item='item' />\n                    </div>             \n                </div> \n            </div>          \n        </div>\n    </div>\n</template>\n\n<script>\n    import InAndDe from './InAndDe.vue';\n    export default {\n        props:{\n            shop_cart_list:{\n                type:Array\n            },\n            show_cart:{\n                type:Boolean\n            },\n            winH:{\n                type:Number\n            }\n        },\n        data (){\n            return {\n                \n            }\n        },\n        methods:{            \n            //清空购物车\n            clear_cart (){\n                this.$store.dispatch('clearCart');\n            },\n            show_shopCart (){\n                this.$store.dispatch('show_cart');\n            }\n        },\n        components:{\n            InAndDe\n        },\n        computed:{\n            //计算购物车商品总价\n            total_price (){\n                let sum = 0;\n                this.shop_cart_list.forEach(function (item,index){\n                    sum += (item.count * item.price)\n                })\n                return sum;\n            },\n            //计算购物车内容的总长度\n            goods_count (){\n                return this.shop_cart_list.length;\n            },\n            //计算遮罩mask的高度和bottom值\n            maskHB (){\n                let num = this.shop_cart_list.length > 3 ? 3 : this.shop_cart_list.length;\n                let height = this.winH - 134 - num * 40 - 40 + 'px';\n                let bottom = num * 40 + 40 + 'px';\n                return {\n                    h:height,\n                    b:bottom\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    #shop_cart{\n        height:45px;\n        border-top:1px solid #ccc;\n        border-bottom:1px solid #ccc;\n        position:relative;\n        display:flex;\n    }\n    #shop_cart .shopCart{\n        flex-grow:2;\n    }\n    #shop_cart .shopCart .cart{\n        width:45px;\n        height:45px;\n        background:#747a88;\n        border-radius:50%;\n        color:#fff;\n        text-align:center;\n        line-height:45px;\n        position:relative;\n        float:left;\n        margin: -10px 10px 0 10px;\n        z-index:2;\n    }\n    #shop_cart .shopCart .cart i{\n        font-size:20px;\n    }\n    #shop_cart .shopCart .cart b{\n        width:15px;\n        height:15px;\n        background:#ddab78;\n        border-radius:50%;\n        text-align:center;\n        line-height:15px;\n        position:absolute;\n        right: -2px;\n        top: -3px;\n        font-size:12px;\n    }\n    #shop_cart .shopCart .price{\n        color:#ddab78;\n        font-size:25px;\n        font-weight:bold;\n        float: left;\n        line-height: 45px;\n    }\n    #shop_cart .calculate{\n        flex-grow:1;\n    }\n    #shop_cart .calculate .calculate_btn{\n        width:100%;\n        height:100%;\n        background:#ddab78;\n        color:#fff;\n        text-align:center;\n        font-size:18px;\n        border:0;\n    }\n    #shop_cart .shopCart_list{\n        position:absolute;\n        bottom:47px;\n        width:100%;\n        background:#fff;\n    }\n    #shop_cart .shopCart_list .mask{\n        position:absolute;\n        width:100%;\n        background:rgba(0,0,0,0.3);\n    }\n    #shop_cart .shopCart_list .shopCart_list_tit{\n        height:40px;\n        background:#e8eaf0;\n        overflow:hidden;\n        line-height:40px;\n        color:#9a9999;\n    }\n    #shop_cart .shopCart_list .shopCart_list_tit .maipin{\n        float:left;\n        font-size:15px;\n        margin-left:5px;\n    }\n    #shop_cart .shopCart_list .shopCart_list_tit .clearShopCart{\n        float:right;\n        font-size:12px;\n        margin-right:5px;\n    }\n    #shop_cart .shopCart_list .ShopCart_list_con{\n        display:flex;\n        height:40px;\n        line-height:40px;\n    }\n    #shop_cart .shopCart_list .ShopCart_list_con .goods_name{\n        width:50vw;\n        text-align:left;\n        padding-left:5px;\n    }\n    #shop_cart .shopCart_list .ShopCart_list_con .goods_price{\n        width:25vw;\n    }\n</style>"],"sourceRoot":"src/components/goods"}]}