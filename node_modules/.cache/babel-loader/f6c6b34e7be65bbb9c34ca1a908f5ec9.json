{"remainingRequest":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/babel-loader/lib/index.js!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/components/goods/goods.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/components/goods/goods.vue","mtime":1559693059312},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/siqi/Desktop/\\u5317\\u4EAC\\u7F51\\u7EDC\\u804C\\u4E1A\\u5B66\\u9662\\u8BFE\\u4EF6/vue/movie/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from \"vuex\";\nimport ShopCart from \"./shop_cart.vue\";\nimport InAndDe from \"./InAndDe.vue\";\nexport default {\n  props: {\n    movies: {\n      type: Array,\n      default: []\n    },\n    cinemaName: {\n      type: String,\n      default: ''\n    }\n  },\n  data: function data() {\n    return {\n      winH: 0,\n      idx: 0,\n      item_list: []\n    };\n  },\n  beforeMount: function beforeMount() {\n    this.$Indicator.open('加载中...'); //发送指令获取商品列表数据\n\n    this.$store.dispatch(\"goods_list\");\n  },\n  mounted: function mounted() {\n    this.winH = document.documentElement.clientHeight;\n  },\n  methods: {\n    //切换选中商品的idx值\n    changeIdx: function changeIdx(ind, id) {\n      var _this = this;\n\n      this.idx = ind;\n      this.get_item_list(id);\n    },\n    get_item_list: function get_item_list(id) {\n      //点击侧边商品列表更改商品数据\n      var res = this.goods_list.filter(function (item, index) {\n        return item.id == id;\n      });\n      this.item_list = res[0];\n    }\n  },\n  computed: _objectSpread({}, mapState([\"goods_list\", \"shop_cart_list\", \"showShopCart\"])),\n  components: {\n    ShopCart: ShopCart,\n    InAndDe: InAndDe\n  },\n  watch: {\n    goods_list: function goods_list() {\n      //初始化时显示默认的商品为第一个\n      //监听商品列表数据改变设置默认item_list\n      this.item_list = this.goods_list[0];\n    }\n  }\n};",{"version":3,"sources":["goods.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,QAAA;AACA,OAAA,OAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AALA,GADA;AAWA,EAAA,IAXA,kBAWA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CADA;AAEA,MAAA,GAAA,EAAA,CAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GAjBA;AAkBA,EAAA,WAlBA,yBAkBA;AACA,SAAA,UAAA,CAAA,IAAA,CAAA,QAAA,EADA,CAEA;;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,YAAA;AACA,GAtBA;AAuBA,EAAA,OAvBA,qBAuBA;AACA,SAAA,IAAA,GAAA,QAAA,CAAA,eAAA,CAAA,YAAA;AACA,GAzBA;AA0BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,qBAEA,GAFA,EAEA,EAFA,EAEA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,WAAA,GAAA,GAAA,GAAA;AACA,WAAA,aAAA,CAAA,EAAA;AACA,KANA;AAOA,IAAA,aAPA,yBAOA,EAPA,EAOA;AACA;AACA,UAAA,GAAA,GAAA,KAAA,UAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,eAAA,IAAA,CAAA,EAAA,IAAA,EAAA;AACA,OAFA,CAAA;AAGA,WAAA,SAAA,GAAA,GAAA,CAAA,CAAA,CAAA;AAEA;AAdA,GA1BA;AA0CA,EAAA,QAAA,oBAEA,QAAA,CAAA,CAAA,YAAA,EAAA,gBAAA,EAAA,cAAA,CAAA,CAFA,CA1CA;AA8CA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,QADA;AAEA,IAAA,OAAA,EAAA;AAFA,GA9CA;AAkDA,EAAA,KAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;AACA;AACA,WAAA,SAAA,GAAA,KAAA,UAAA,CAAA,CAAA,CAAA;AACA;AAJA;AAlDA,CAAA","sourcesContent":["<template>\n  <div id=\"goods\">\n    <mt-header\n      v-if=\"movies[0]\"\n      :title=\"cinemaName?cinemaName:movies[0].data.result.cinema_info.name\"\n    >\n      <router-link to=\"/select_cinema\" slot=\"right\">\n        <i class=\"iconfont\">&#xe62a;</i>\n      </router-link>\n      <i class=\"iconfont\" slot=\"left\">&#xe64b;</i>\n    </mt-header>\n    <div class='goods_list' v-if='goods_list' :style=\"{overflow:'auto',height:(winH-134)+'px'}\">\n      <div class='goods_list_nav' >\n        <h6 v-for=\"(item,index) in goods_list\" :class='{\"active\":idx==index}' @click='changeIdx(index,item.id)'>{{item.title}}</h6>\n      </div>\n      <div class='goods_list_con'>\n        <div>\n          <h6>{{item_list.title}}</h6>\n          <div class='list' v-for='(item,index) in item_list.data'>\n            <dl>\n              <dt>\n                <img :src=\"item.img\" alt=\"\">\n              </dt>\n              <dd class='goods_list_des'>\n                <strong>{{item.title}}</strong>\n                <span>{{item.des}}</span>\n                <i>¥{{item.price}}</i>\n              </dd>\n              <dd class='goods_list_add_shopcart'>\n                <InAndDe :shop_cart_list='shop_cart_list' :item='item' />\n              </dd>\n            </dl>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 购物车组件 -->\n    <ShopCart :shop_cart_list='shop_cart_list' :show_cart='showShopCart' :winH='winH' />\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport ShopCart from './shop_cart.vue';\nimport InAndDe from './InAndDe.vue';\nexport default {\n  props: {\n    movies: {\n      type: Array,\n      default:[]\n    },\n    cinemaName:{\n        type:String,\n        default:''\n    }\n  },\n  data() {\n    return {\n      winH:0,\n      idx:0,\n      item_list:[]\n    };\n  },\n  beforeMount() {\n    this.$Indicator.open('加载中...');\n    //发送指令获取商品列表数据\n    this.$store.dispatch(\"goods_list\");   \n  },\n  mounted (){\n    this.winH = document.documentElement.clientHeight; \n  },\n  methods:{\n    //切换选中商品的idx值\n    changeIdx (ind,id){\n      let _this = this;\n      this.idx = ind;\n      this.get_item_list(id);\n    },\n    get_item_list (id){\n      //点击侧边商品列表更改商品数据\n      let res = this.goods_list.filter((item,index)=>{\n        return item.id == id;\n      });\n      this.item_list = res[0];\n      \n    }\n  },\n  computed:{\n    //映射状态到本组件\n    ...mapState([\"goods_list\",\"shop_cart_list\",\"showShopCart\"])\n  },\n  components:{\n    ShopCart,\n    InAndDe\n  },\n  watch:{\n    goods_list (){//初始化时显示默认的商品为第一个\n      //监听商品列表数据改变设置默认item_list\n      this.item_list = this.goods_list[0];  \n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n  .goods_list{\n    display:flex;\n    background:#fff url(../../../public/image/goods_bg.jpg) top left repeat-x;\n    background-size:auto 30px;\n  }\n  .goods_list_nav{\n    flex-grow:1;\n    height:100%;\n    overflow:auto;\n    background:#fdfbee url(../../../public/image/goods_bg.jpg) top left repeat-x;\n    background-size:auto 30px;\n    width:90px;\n  }\n  .goods_list_nav h6{\n    margin:0;\n    line-height:36px;\n    border-bottom: 1px solid #ccc;\n  }\n  .goods_list h6:nth-child(1){\n    margin-top: 30px;\n  }\n  .goods_list_nav h6.active{\n    background:#fff; \n  }\n  .goods_list_con{\n    flex-grow:4;\n    height:100%;\n    overflow:auto;\n    width:calc( 100% - 90px );\n  }\n  .goods_list_con .list{\n    border-top:1px solid #ccc;\n  }\n  .goods_list_con h6{\n    margin-bottom: 0;\n    height: 36px;\n    background:url(../../../public/image/goods_bg2.jpg) top center no-repeat;\n    background-size:auto 36px;\n    line-height:36px;\n  }\n  .goods_list_con dl{\n    display:flex;\n    text-align:left;\n  }\n  .goods_list_con dl dt{\n    width:70px;\n  }\n  .goods_list_con dl dt img{\n    width:60px;\n    margin:5px;\n    margin-top:0;\n  }\n  .goods_list_con dl dd{\n     margin-left:0\n  }\n  .goods_list_con .goods_list_des{\n    width:calc( 100% - 106px );\n  }\n  .goods_list_con .goods_list_des *{\n    display:block;\n    margin-bottom:3px;\n  }\n  .goods_list_con .goods_list_des span{\n    font-size:12px;\n  }\n  .goods_list_con .goods_list_des i{\n    color:#e0b17d;\n    font-weight:700;\n  }\n  .goods_list_con .goods_list_add_shopcart{\n    padding-top:30px;\n    padding-right: 10px;\n  }\n</style>"],"sourceRoot":"src/components/goods"}]}