{"remainingRequest":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/components/mine/mine.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/components/mine/mine.vue","mtime":1559702904644},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    data (){\n        return {\n            show_login:false,\n            phone:'',\n            captcha:'',\n            dis:true,\n            test_cap:false,\n            test_cap_con:'获取验证码',\n            location_home:''\n        }\n    },\n    methods:{\n        //跳转订单组件\n        showbill (con){\n            this.$router.push({path:\"/bill\",query:{con:con}});\n        },\n        //显示登陆块\n        login (){\n            this.show_login = true;               \n        },\n        //隐藏登陆块\n        back (){\n            this.show_login = false;\n        },\n        jianting (v){\n            if( v.length >= 6 ){\n                this.dis = false;\n            }\n        },\n        haha (){\n            this.$Toast('测试短信验证码哦,不能真的登陆');\n        },\n        test_location (v){\n            if( v.length == 11 ){\n               let _this = this;\n                let location_url = 'http://apis.juhe.cn/mobile/get?phone='+this.phone+'&key=f426ea535a15ca34ad69de80c2afdf05';//验证手机号归属地接口\n                $.ajax({\n                    type:'get',\n                    url:location_url,\n                    dataType: 'jsonp',\n                    success:function (res){\n                        _this.location_home = res.result.city+res.result.company;\n                    }\n                }); \n            }else{\n               this.location_home = '';\n            }\n            \n        },\n        //发送验证码\n        test_captcha (){\n            let _this = this;\n            let result = this.isPoneAvailable(this.phone);\n            if( result ){\n                \n                let code_url = 'http://v.juhe.cn/sms/send?mobile='+this.phone+'&tpl_id=159959&tpl_value=%23code%23%3d431515&dtype=json&key=9224c0f358a9a6efbca99b415e8f80dc%20';//发送验证码接口\n                \n                $.ajax({\n                    type:'get',\n                    url:code_url,\n                    dataType:'jsonp',\n                    success:function (res){\n                        console.log(res);\n                    }\n                })\n                this.test_cap = true;                   \n                let num = 60;\n                this.test_cap_con = num+'秒后重新获取';\n                let timer = null;\n                timer = setInterval(function (){\n                    num--;\n                    _this.test_cap_con = num+'秒后重新获取';\n                    if( num <= 0 ){\n                        clearInterval(timer);\n                        _this.test_cap = false;\n                        _this.test_cap_con = '获取验证码';\n                    }\n                },1000);\n                \n            }else{\n                this.$Toast('请输入正确11位手机号');\n            }\n            \n        },\n        //验证手机号正则\n        isPoneAvailable (phone) {\n            var myreg=/^[1][3,4,5,7,8][0-9]{9}$/;\n            if (!myreg.test(phone)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n    }\n}\n",{"version":3,"sources":["mine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mine.vue","sourceRoot":"src/components/mine","sourcesContent":["<template>\n    <div id='mine'>\n        <div class=\"mine_header\">\n            <i class='iconfont'>&#xe606;</i>\n            <span @click='login'>去登陆&gt;</span>\n        </div>\n        <div class=\"mine_content\">\n            <div  @click='showbill(\"暂无订单噢-\")'>\n                <mt-cell title=\"影票订单\" class='bill'>\n                    <span><i class='iconfont'>&#xe62a;</i></span>\n                    <i class='iconfont tit' slot=\"icon\">&#xe603;</i>\n                </mt-cell>\n            </div>\n            <div @click='showbill(\"暂无商品噢-\")'>\n               <mt-cell title=\"卖品订单\" class='bill'>\n                    <span><i class='iconfont'>&#xe62a;</i></span>\n                    <i class='iconfont tit' slot=\"icon\">&#xe618;</i>\n                </mt-cell> \n            </div>\n            <div @click='showbill(\"暂无影单噢-\")'>\n               <mt-cell title=\"我的影单\" class='bill'>\n                    <span><i class='iconfont'>&#xe62a;</i></span>\n                    <i class='iconfont tit' slot=\"icon\">&#xe68b;</i>\n                </mt-cell> \n            </div>\n            <div @click='showbill(\"暂无充值噢-\")'>\n                <mt-cell title=\"我的钱包\" class='bill'>\n                    <span><i class='iconfont'>&#xe62a;</i></span>\n                    <i class='iconfont tit' slot=\"icon\">&#xe63f;</i>\n                </mt-cell>\n            </div>          \n        </div>\n        <transition name='fade'>\n            <div class=\"login\" v-show='show_login'>\n                <mt-header title=\"请登陆\">\n                    <router-link to='/mine' slot=\"left\">\n                        <mt-button icon=\"back\" @click='back'>返回</mt-button>\n                    </router-link>\n                </mt-header>\n                <mt-field label=\"手机号\" @input='test_location($event)' placeholder=\"请输入手机号\" type=\"tel\" v-model=\"phone\">\n                    <span class='location_home'>{{location_home}}</span>\n                </mt-field>\n                <mt-field label=\"验证码\" @input=\"jianting($event)\" v-model=\"captcha\" placeholder=\"请输入验证码\">\n                    <mt-button type=\"default\" :disabled='test_cap' @click='test_captcha'>{{test_cap_con}}</mt-button>\n                </mt-field>\n                <mt-button class='verify' type=\"primary\" @click='haha' :disabled='dis'>验证</mt-button>\n            </div>\n        </transition>\n        \n        <div>\n            <!-- 订单组件跳转 -->\n            <router-view></router-view>\n        </div>      \n    </div>\n</template>\n\n<script>\n    export default {\n        data (){\n            return {\n                show_login:false,\n                phone:'',\n                captcha:'',\n                dis:true,\n                test_cap:false,\n                test_cap_con:'获取验证码',\n                location_home:''\n            }\n        },\n        methods:{\n            //跳转订单组件\n            showbill (con){\n                this.$router.push({path:\"/bill\",query:{con:con}});\n            },\n            //显示登陆块\n            login (){\n                this.show_login = true;               \n            },\n            //隐藏登陆块\n            back (){\n                this.show_login = false;\n            },\n            jianting (v){\n                if( v.length >= 6 ){\n                    this.dis = false;\n                }\n            },\n            haha (){\n                this.$Toast('测试短信验证码哦,不能真的登陆');\n            },\n            test_location (v){\n                if( v.length == 11 ){\n                   let _this = this;\n                    let location_url = 'http://apis.juhe.cn/mobile/get?phone='+this.phone+'&key=f426ea535a15ca34ad69de80c2afdf05';//验证手机号归属地接口\n                    $.ajax({\n                        type:'get',\n                        url:location_url,\n                        dataType: 'jsonp',\n                        success:function (res){\n                            _this.location_home = res.result.city+res.result.company;\n                        }\n                    }); \n                }else{\n                   this.location_home = '';\n                }\n                \n            },\n            //发送验证码\n            test_captcha (){\n                let _this = this;\n                let result = this.isPoneAvailable(this.phone);\n                if( result ){\n                    \n                    let code_url = 'http://v.juhe.cn/sms/send?mobile='+this.phone+'&tpl_id=159959&tpl_value=%23code%23%3d431515&dtype=json&key=9224c0f358a9a6efbca99b415e8f80dc%20';//发送验证码接口\n                    \n                    $.ajax({\n                        type:'get',\n                        url:code_url,\n                        dataType:'jsonp',\n                        success:function (res){\n                            console.log(res);\n                        }\n                    })\n                    this.test_cap = true;                   \n                    let num = 60;\n                    this.test_cap_con = num+'秒后重新获取';\n                    let timer = null;\n                    timer = setInterval(function (){\n                        num--;\n                        _this.test_cap_con = num+'秒后重新获取';\n                        if( num <= 0 ){\n                            clearInterval(timer);\n                            _this.test_cap = false;\n                            _this.test_cap_con = '获取验证码';\n                        }\n                    },1000);\n                    \n                }else{\n                    this.$Toast('请输入正确11位手机号');\n                }\n                \n            },\n            //验证手机号正则\n            isPoneAvailable (phone) {\n                var myreg=/^[1][3,4,5,7,8][0-9]{9}$/;\n                if (!myreg.test(phone)) {\n                    return false;\n                } else {\n                    return true;\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\" scoped>\n    #mine{\n        background:#f3f4f6;\n    }\n    .mine_header{\n        height:30vh;\n        background:#dbb177 url(../../../public/image/S90605-08101009.jpg) bottom center no-repeat;\n        background-size:100% auto;\n        color:#fff;\n    }\n    .mine_header i{\n        float: left;\n        font-size: 60px;\n        margin: 9vh 2vw 0 4vw;\n    }\n    .mine_header span{\n        float: left;\n        font-weight: 700;\n        margin: 12vh 0 0 2vw;\n    }\n    .mine_content{\n        margin-top: 10px;\n    }\n    .mine_content .tit{\n        font-weight:bold;\n        color:#dbb177;\n        margin-right:5px;\n    }\n    .bill{\n        text-align:left;\n    }\n    .login{\n        width:100vw;\n        height:100vh;\n        position:fixed;\n        top:0;\n        background:#fff;\n        z-index: 99;\n    }\n    .verify{\n        width: 90%;\n        margin-top: 20px;\n    }\n    .location_home{\n        font-size: 12px;\n        color: #565656;\n    }\n    .fade-enter-active, .fade-leave-active{\n        -webkit-transition: all 0.5s ease ;\n        transition: all 0.5s ease ;\n    }    \n    .fade-enter, .fade-leave-active{\n        opacity: 0;\n        -webkit-transform:translate3d(100%,0,0);\n        transform:translate3d(100%,0,0);\n    }\n   \n</style>"]}]}