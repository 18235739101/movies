{"remainingRequest":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/components/movie/movie_list.vue?vue&type=script&charset=utf-8&lang=js&","dependencies":[{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/src/components/movie/movie_list.vue","mtime":1559639760102},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/siqi/Desktop/北京网络职业学院课件/vue/movie/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  props: {\n    movies: {\n      type: Array,\n      default: []\n    },\n    cinemaName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      winH:0\n    };\n  },\n  mounted (){\n    this.winH = document.documentElement.clientHeight;\n  },\n  methods: {\n    //获取url路径上的cityName参数值\n    GetQueryString(name) {\n      var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)+\");\n      var r = window.location.href.split(\"?\")[1]\n        ? window.location.href.split(\"?\")[1].match(reg)\n        : null;\n      //decodeURIComponent函数编码的 URI 进行解码\n      if (r != null) return decodeURIComponent(r[2]);\n      return null;\n    },\n    setH() {\n      //数据获取过后设置电影列表的高度,\n      this.$refs.movie_list_dom.style.height =\n        document.documentElement.clientHeight - 187 + \"px\";\n    }\n  },\n  watch: {\n    $route: function(old, NewVal) {\n      //路由改变时改变电影院内容\n      let cityName = this.GetQueryString(\"cinemaName\");\n      if (cityName) {\n        this.$store.dispatch(\"change_cinemaName\", cityName);\n      }\n    }\n  }\n};\n",null]}